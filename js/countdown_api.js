(function(){var l=document.querySelectorAll(".countdown-timer"),a="countdown-active",e,c,m,j,d;m=window.addEventListener?"addEventListener":"attachEvent";j=window[m];d=m=="attachEvent"?"onmessage":"message";for(e=0;e<l.length;e++){h(l[e])}function k(n,i){if(n==0){return Math.floor((Math.random()*i)+0)}else{return Math.floor(Math.random()*(i-n+1))+n}}function b(n){var i;if(n.indexOf("//")>-1){i=n.split("/")[2]}else{i=n.split("/")[0]}i=i.split(":")[0];i=i.split("?")[0];return i}function h(y){var o="",p="",r="",u="",z="",n="",x="",q="",i="",s="",t="",w=k(1,1000000),v="";if("href" in y.attributes){v=y.attributes.href.value;o="https://"+b(v)+"/widget/countdown"}else{return}if(typeof y.attributes.rel!=="undefined"){v=""}if(y.tagName!="A"){v=""}if(typeof y.innerText==="undefined"){v=""}else{if(y.innerText==""){v=""}}if(y.className.indexOf(a)===-1){y.style.position="relative";y.style.overflow="hidden";y.style.display="inline-block";if(typeof y.innerText!=="undefined"){z=encodeURIComponent(y.innerText)}if(typeof y.dataset.background!=="undefined"){n=encodeURIComponent(y.dataset.background)}if(typeof y.dataset.timezone!=="undefined"){x=encodeURIComponent(y.dataset.timezone)}if(typeof y.dataset.width!=="undefined"){q=encodeURIComponent(y.dataset.width)}else{y.style.width="100%"}if(typeof y.dataset.style!=="undefined"){i=encodeURIComponent(y.dataset.style)}if(typeof y.dataset.language!=="undefined"){u=encodeURIComponent(y.dataset.language)}if(typeof y.dataset.textcolor!=="undefined"){p=encodeURIComponent(y.dataset.textcolor)}if(typeof y.dataset.digitscolor!=="undefined"){r=encodeURIComponent(y.dataset.digitscolor)}if(typeof y.dataset.unitscolor!=="undefined"){t=encodeURIComponent(y.dataset.unitscolor)}if(typeof y.dataset.date!=="undefined"){s=encodeURIComponent(y.dataset.date)}y.id="time_countdown_"+w;countdown_width="";countdown_height="";c=document.createElement("iframe");c.setAttribute("src",o+"?text="+z+"&timezone="+x+"&width="+q+"&style="+i+"&uid="+w+"&loc="+v+"&language="+u+"&textcolor="+p+"&background="+n+"&date="+s+"&digitscolor="+r+"&unitscolor="+t);c.id="countdown_iframe_"+w;c.style.width=countdown_width+"px";c.style.height=countdown_height+"px";c.style.width="1px";c.style.height="1px";c.style.backgroundColor="none transparent";c.style.border="none";c.style.margin="0px";c.setAttribute("scrolling","no");c.setAttribute("allowtransparency","true");c.setAttribute("frameborder","0");y.innerHTML="";y.appendChild(c);y.target="_blank";overlay_div=document.createElement("div");overlay_div.style.width=countdown_width+"px";overlay_div.style.height=countdown_height+"px";overlay_div.style.width="1px";overlay_div.style.height="1px";overlay_div.style.position="absolute";overlay_div.style.left="0";overlay_div.style.top="0";overlay_div.style.opacity="0";overlay_div.id="ovd_"+w;y.appendChild(overlay_div);y.addEventListener("mouseover",function(){f(y,"button_over")},false);y.addEventListener("mouseout",function(){f(y,"button_out")},false);g(y,a)}}function f(i,o){var n=i.getElementsByTagName("iframe")[0].contentWindow;n.postMessage(o,"*")}function g(n,i){if(n.classList){n.classList.add(i)}else{n.className+=" "+i}}j(d,function(o){var i,n;if(o.data.event_id==="js_countdown_show"){i=document.getElementById("countdown_iframe_"+o.data.uid);n=document.getElementById("time_countdown_"+o.data.uid);if(i!==null){i.style.height="100%";i.style.visibility="visible";if(typeof n.dataset.width!=="undefined"){i.style.width=n.dataset.width+"px"}else{i.style.width="100%"}if(o.data.page=="not_found"){n.attributes.href.value="https://"+b(n.attributes.href.value)+"/countdown-timer";i.style.width="500px";i.style.height="50px"}f(n,"js_countdown_size")}}if(o.data.event_id==="time_countdown_size"){i=document.getElementById("countdown_iframe_"+o.data.uid);n=document.getElementById("time_countdown_"+o.data.uid);overlay=document.getElementById("ovd_"+o.data.uid);if(o.data.width!==null&&o.data.height!==null&&i!==null){if(typeof n.dataset.width!=="undefined"){i.style.width=n.dataset.size+"px"}else{i.style.width="100%"}n.style.height=o.data.height+"px";i.style.height="100%";i.style.visibility="visible";overlay.style.width=(o.data.width+6)+"px";overlay.style.height=(o.data.height+6)+"px"}}},false)})();